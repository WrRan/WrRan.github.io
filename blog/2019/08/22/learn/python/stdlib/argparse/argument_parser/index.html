<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="1SzRDU50sB"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="ArgumentParser,"><link rel="alternate" href="/atom.xml" title="WrRan の 杂货铺" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta name="description" content="ArgumentParser, parsing for arguments"><meta name="keywords" content="ArgumentParser"><meta property="og:type" content="article"><meta property="og:title" content="ArgumentParser@argparse"><meta property="og:url" content="http://www.wrran.com/blog/2019/08/22/learn/python/stdlib/argparse/argument_parser/index.html"><meta property="og:site_name" content="WrRan の 杂货铺"><meta property="og:description" content="ArgumentParser, parsing for arguments"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-08-22T03:25:32.007Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="ArgumentParser@argparse"><meta name="twitter:description" content="ArgumentParser, parsing for arguments"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",sidebar:{position:"left",display:"post",offset:12,offset_float:12,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.wrran.com/blog/2019/08/22/learn/python/stdlib/argparse/argument_parser/"><title>ArgumentParser@argparse | WrRan の 杂货铺</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6d4f6172d2d7b5703b9c1560a5af22a5";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">WrRan の 杂货铺</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description"></h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.wrran.com/blog/2019/08/22/learn/python/stdlib/argparse/argument_parser/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WrRan"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="WrRan の 杂货铺"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">ArgumentParser@argparse</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-22T11:22:16+08:00">2019-08-22 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/learn/" itemprop="url" rel="index"><span itemprop="name">learn</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/learn/python/" itemprop="url" rel="index"><span itemprop="name">python</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/learn/python/stdlib/" itemprop="url" rel="index"><span itemprop="name">stdlib</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/learn/python/stdlib/argparse/" itemprop="url" rel="index"><span itemprop="name">argparse</span> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span> </span><span class="post-meta-divider">|</span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span title="字数统计">1,423</span></div></div></header><div class="post-body han-init-context" itemprop="articleBody"><blockquote><p>ArgumentParser, parsing for arguments</p></blockquote><a id="more"></a><p>The argparse module makes it easy to write user-friendly command-line interfaces. The program defines what arguments it requires, and argparse will figure out how to parse those out of sys.argv. The argparse module also automatically generates help and usage messages and issues errors when users give the program invalid arguments.</p><h1 id="ArgumentParser-objects"><a href="#ArgumentParser-objects" class="headerlink" title="ArgumentParser objects"></a>ArgumentParser objects</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#argumentparser-objects" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#argumentparser-objects</a></p><p>Create a new <strong>ArgumentParser</strong> object. All parameters should be passed as keyword arguments. Each parameter has its own more detailed description below, but in short they are:</p><ul><li>prog — The name of the program (default: sys.argv[0])</li><li>usage — the string describing the program usage (default: generated from arguments added to parser)</li><li>description — Text to display before the argument help (default: none)</li><li>epilog — Text to display after the argument help (default: none)</li><li>parents — A list of ArgumentParser objects whose arguments should also be included</li><li>formatter_class — A class for customizing the help output</li><li>prefix_chars — The set of characters the prefix optional arguments (default: ‘-‘)</li><li>fromfile_prefix_chars — The set of characters that prefix files from which additional arguments should be read (default: None)</li><li>argument_default — The global default value for arguments (default: None)</li><li>conflict_handler — The strategy for resolving conflicting options (usually unnecessary)</li><li>add_help — Add a -h/—help option to the parser (default: True)</li><li>allow_abbrev — Allow long options to be abbreviated if the abbreviation is unambiguous. (default: True)</li></ul><p>The following sections describe how each of these are used.</p><h1 id="gt-prog-lt"><a href="#gt-prog-lt" class="headerlink" title="-&gt; prog &lt;-"></a>-&gt; prog &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#prog" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#prog</a></p><p>By default, <strong>ArgumentParser</strong> objects use <code>sys.argv[0]</code> to determine how to display the name of the program in help messages. This default is almost always desirable because it will make the help messages match how the program was invoked on the command line.</p><p>Note that the program name, whether determined from <code>sys.argv[0]</code> or from the <code>prog=</code> argument, is available to help messages using the <code>%(prog)s</code> format specifier.</p><h1 id="gt-usage-lt"><a href="#gt-usage-lt" class="headerlink" title="-&gt; usage &lt;-"></a>-&gt; usage &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#usage" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#usage</a></p><p>By default, <strong>ArgumentParser</strong> calculates the usage message from the arguments it contains.</p><p>The default message can be overridden with the <code>usage=</code> keyword argument.<br>The <code>%(prog)s</code> format specifier is available to fill in the program name in your usage messages.</p><h1 id="gt-description-lt"><a href="#gt-description-lt" class="headerlink" title="-&gt; description &lt;-"></a>-&gt; description &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#description" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#description</a></p><p>Most calls to the <strong>ArgumentParser</strong> constructor will use the <code>description=</code> keyword argument. This argument give a brief description of what the program does and how it works. In help messages, the description is display between the command-line usage string and the help messages for the various arguments.</p><p>By default, the description will be line-wrapped so that it fits within the given space. To change this behavior, see the <code>formatter_class</code> argument.</p><h1 id="gt-epilog-lt"><a href="#gt-epilog-lt" class="headerlink" title="-&gt; epilog &lt;-"></a>-&gt; epilog &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#epilog" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#epilog</a></p><p>Some programs like to display additional description of the program after the description of the arguments. Such text can be specified using the <code>epilog=</code> argument to <strong>ArgumentParser</strong>.</p><p>As with the <code>description</code> argument, the <code>epilog=</code> text is by default line-wrapped, but this behavior can be adjusted with the <code>formatter_class</code> argument to <strong>ArgumentParser</strong>.</p><h1 id="gt-parents-lt"><a href="#gt-parents-lt" class="headerlink" title="-&gt; parents &lt;-"></a>-&gt; parents &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#parents" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#parents</a></p><p>Sometimes, several parsers share a common set of arguments. Rather than repeating the definitions of these arguments, a single parser with all the shared arguments and passed to <code>parents=</code> argument to <strong>ArgumentParser</strong> can be used. The <code>parents=</code> argument takes a list of <strong>ArgumentParser</strong> objects, collects all the positional and optional actions from them, and adds these actions to <strong>ArgumentParser</strong> object being constructed.</p><p>Note that most parent parsers will specify <code>add_help=False</code>. Otherwise, the ArgumentParser will see two <code>-h/—help</code> options (one in the parent and one in the child) and raise an error.</p><blockquote><p>NOTE: You must fully initialize the parsers before passing them via parents=. If you change the parents after the child parser, those changes will not reflected in the child.</p></blockquote><h1 id="gt-formatter-class-lt"><a href="#gt-formatter-class-lt" class="headerlink" title="-&gt; formatter_class &lt;-"></a>-&gt; formatter_class &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#formatter-class" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#formatter-class</a></p><p><strong>ArgumentParser</strong> objects allow the help formatting to be customized by specifying an alternate formatting class. Currently, there are four such classes:<br>class argparse.<strong>RawDescriptionHelpFormatter</strong><br>class argparse.<strong>RawTextHelpFormatter</strong><br>class argparse.<strong>ArgumentDefaultsHelpFormatter</strong><br>class argparse.<strong>MetavarTypeHelpFormatter</strong></p><p><strong>RawDescriptionHelpFormatter</strong> and <strong>RawTextHelpFormatter</strong> give more control over how textual descriptions are displayed. By default, <strong>ArgumentParser</strong> objects line-wrap the <code>description</code> and <code>epilog</code> texts in command-line help messages.</p><p>Passing <strong>RawDescriptionHelpFormatter</strong> as <code>formatter_class=</code> indicates that <strong>description</strong> and <strong>epilog</strong> are already correctly formatted and should not line-wrapped.</p><p><strong>RawTextHelpFormatter</strong> maintains whitespace for all sorts of help text, including argument descriptions. However, multiple new lines are replaced with one. If you wish to preserve multiple blank lines, add spaces between the newlines.</p><p><strong>ArgumentDefaultsHelpFormatter</strong> automatically adds information about default values to each of the argument help messages.</p><p><strong>MetavarTypeHelpFormatter</strong> uses the name of the type argument for each arguments as the replay name for its values (rather than using the dest as the regular formatter does).</p><h1 id="gt-prefix-chars-lt"><a href="#gt-prefix-chars-lt" class="headerlink" title="-&gt; prefix_chars &lt;-"></a>-&gt; prefix_chars &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#prefix-chars" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#prefix-chars</a></p><p>Most command-line options will use <code>-</code> as the prefix, e.g. <code>-f/—foo</code>. Parsers that need to support different or additional prefix characters, e.g. for options like <code>+f</code> or <code>/foo</code>, may specify them using the <code>prefix_chars=</code> argument to the ArgumentParser constructor.</p><p>The <code>prefix_chars=</code> argument defaults to <code>-</code>. Supplying a set of characters that does not include <code>-</code> will cause <code>-f/—foo</code> options to be disallowed.</p><h1 id="gt-from-file-prefix-char-lt"><a href="#gt-from-file-prefix-char-lt" class="headerlink" title="-&gt; from file_prefix_char &lt;-"></a>-&gt; from file_prefix_char &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#fromfile-prefix-chars" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#fromfile-prefix-chars</a></p><p>Sometimes, for example when dealing with a particularly long argument lists, it may make sense to keep the list of arguments in a file rather than typing it out at the command line. If the <code>fromfile_prefix_chars=</code> argument is given to the <code>ArgumentParser</code> constructor, then arguments that start with any of the specified characters will be treated as files, and will be replaced by the arguments they contain.</p><p>Arguments read from a file must by default be one per line (but see also <code>convert_arg_line_to_args()</code>) and are treated as if they were in the same place as the original file referencing argument on the command line. So in the example above, the expression <code>[‘-f’, ‘foo’, ‘@args.txt’]</code> is considered equivalent to the expression <code>[‘-f’, ‘foo’, ‘-f’, ’bar’]</code>.</p><p>The <code>from file_prefix_chars=</code> argument defaults to <code>None</code>, meaning that arguments will never be treated as file references.</p><h1 id="gt-argument-default-lt"><a href="#gt-argument-default-lt" class="headerlink" title="-&gt; argument_default &lt;-"></a>-&gt; argument_default &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#argument-default" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#argument-default</a></p><p>Generally, argument defaults are specified either by passing a default to <code>add_argument()</code> or by calling the <code>set_defaults()</code> methods with a specific set of name-values pairs. Sometimes however, it may be useful to specify a single parser-wide default for arguments. This can be accomplished by passing the <code>argument_default=</code> keyword argument to <code>ArgumentParser</code>. For example, to globally suppress attribute create on <code>parse_args()</code> calls, we supply <code>argument_default=SUPPRESS</code>.</p><h1 id="gt-allow-abbrev-lt"><a href="#gt-allow-abbrev-lt" class="headerlink" title="-&gt; allow_abbrev &lt;-"></a>-&gt; allow_abbrev &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#allow-abbrev" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#allow-abbrev</a></p><p>Normally, when you pass an argument list to the <code>parse_args()</code> method of an <code>ArgumentParser</code>, it <strong>recognizes abbreviations</strong> of long options.</p><p>This feature can be disabled by setting <code>allow_abbrev</code> to <code>False</code>.</p><h1 id="gt-conflict-handler-lt"><a href="#gt-conflict-handler-lt" class="headerlink" title="-&gt; conflict_handler &lt;-"></a>-&gt; conflict_handler &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#conflict-handler" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#conflict-handler</a></p><p><code>ArgumentParser</code> objects do not allow two actions with the same option string. By default, <code>ArgumentParser</code> objects raise an exception if an attempt is made to create an argument with an option string that is already in use.</p><p>Sometimes (e.g. when using <code>parents</code>) it may be useful to simply override any older arguments with the same option string. To get this behavior, the value <code>&#39;resolve’</code> can be supplied to the <code>conflict_handler=</code> argument of <code>ArgumentParser</code>.</p><p>Note that <code>ArgumentParser</code> objects only remove an action if all of its option strings are override. So, in the example above, the old <code>-f/—foo</code> action is retained as the <code>-f</code> action, because only the <code>—foo</code> option string was overridden.</p><h1 id="gt-add-help-lt"><a href="#gt-add-help-lt" class="headerlink" title="-&gt; add_help &lt;-"></a>-&gt; add_help &lt;-</h1><p><a href="https://docs.python.org/3.7/library/argparse.html#add-help" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html#add-help</a></p><p>By default, ArgumentParser objects add an option which simple displays the parser’s help message. If <code>-h</code> or <code>—help</code> is supplied at the command line, the ArgumentParser help will be printed.<br>Occasionally, it may be useful to disable the addition of this help option. This can be achieved by passing <code>False</code> as the <code>add_help=</code> argument to <code>ArgumentParser</code>.<br>The help option is typically <code>-h/—help</code>. The exception to this is if the <code>prefix_chars=</code> is specified and does not include <code>-</code>, in which case <code>-h</code> and <code>—help</code> are not valid options. In this case, the first character in <code>prefix_chars</code> is used to prefix the help options.</p><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p><a href="https://docs.python.org/3.7/library/argparse.html" target="_blank" rel="noopener">https://docs.python.org/3.7/library/argparse.html</a></p></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> WrRan</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://www.wrran.com/blog/2019/08/22/learn/python/stdlib/argparse/argument_parser/" title="ArgumentParser@argparse">http://www.wrran.com/blog/2019/08/22/learn/python/stdlib/argparse/argument_parser/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/ArgumentParser/" rel="tag"># ArgumentParser</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/blog/2019/08/19/learn/bash/statement-if/" rel="next" title="if语句@bash"><i class="fa fa-chevron-left"></i> if语句@bash</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/2019/08/23/learn/python/stdlib/argparse/add_argument/" rel="prev" title="The add_argument() method@argparse">The add_argument() method@argparse <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zMjQ4OC85MDQ5"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="WrRan"><p class="site-author-name" itemprop="name">WrRan</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">243</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">75</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">118</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/WrRan" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub </a></span><span class="links-of-author-item"><a href="http://xtf615.com/" target="_blank" title="xuetf"><i class="fa fa-fw fa-globe"></i> xuetf</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ArgumentParser-objects"><span class="nav-number">1.</span> <span class="nav-text">ArgumentParser objects</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-prog-lt"><span class="nav-number">2.</span> <span class="nav-text">-&gt; prog &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-usage-lt"><span class="nav-number">3.</span> <span class="nav-text">-&gt; usage &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-description-lt"><span class="nav-number">4.</span> <span class="nav-text">-&gt; description &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-epilog-lt"><span class="nav-number">5.</span> <span class="nav-text">-&gt; epilog &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-parents-lt"><span class="nav-number">6.</span> <span class="nav-text">-&gt; parents &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-formatter-class-lt"><span class="nav-number">7.</span> <span class="nav-text">-&gt; formatter_class &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-prefix-chars-lt"><span class="nav-number">8.</span> <span class="nav-text">-&gt; prefix_chars &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-from-file-prefix-char-lt"><span class="nav-number">9.</span> <span class="nav-text">-&gt; from file_prefix_char &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-argument-default-lt"><span class="nav-number">10.</span> <span class="nav-text">-&gt; argument_default &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-allow-abbrev-lt"><span class="nav-number">11.</span> <span class="nav-text">-&gt; allow_abbrev &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-conflict-handler-lt"><span class="nav-number">12.</span> <span class="nav-text">-&gt; conflict_handler &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gt-add-help-lt"><span class="nav-number">13.</span> <span class="nav-text">-&gt; add_help &lt;-</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">14.</span> <span class="nav-text">Reference</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 - <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">WrRan</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="powered-by">Hosted by <a href="https://pages.coding.me" style="font-weight:700">Coding Pages</a></div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> </span><span class="site-pv"><i class="fa fa-eye"></i> <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script type="text/javascript">// Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>