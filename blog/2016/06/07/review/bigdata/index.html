<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="1SzRDU50sB"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="bigdata,"><link rel="alternate" href="/atom.xml" title="WrRan の 杂货铺" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta name="description" content="学习，让我更快乐 ;)"><meta name="keywords" content="bigdata"><meta property="og:type" content="article"><meta property="og:title" content="大数据复习"><meta property="og:url" content="http://www.wrran.com/blog/2016/06/07/review/bigdata/index.html"><meta property="og:site_name" content="WrRan の 杂货铺"><meta property="og:description" content="学习，让我更快乐 ;)"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%844V.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9A%84%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/CAP%E7%90%86%E8%AE%BA.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Google%20GFS%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data%2Fimage%2FHDFS%E6%9E%B6%E6%9E%84.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Map%20Reduce%E6%9E%B6%E6%9E%84.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Hadoop%E4%B8%8EGFS%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E6%AF%94%E8%BE%83.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/OceanBase%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%9A%84%E4%BD%9C%E7%94%A8.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-bigdata/image/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E8%99%9A%E6%8B%9F%E6%8A%80%E6%9C%AF%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4%E6%8A%80%E6%9C%AF.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B.png"><meta property="og:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/RAID%E6%8A%80%E6%9C%AF%E6%AF%94%E8%BE%83.png"><meta property="og:updated_time" content="2019-08-15T19:59:16.514Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="大数据复习"><meta name="twitter:description" content="学习，让我更快乐 ;)"><meta name="twitter:image" content="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%844V.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",sidebar:{position:"left",display:"post",offset:12,offset_float:12,b2t:!1,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://www.wrran.com/blog/2016/06/07/review/bigdata/"><title>大数据复习 | WrRan の 杂货铺</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?6d4f6172d2d7b5703b9c1560a5af22a5";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">WrRan の 杂货铺</span> <span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description"></h1></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://www.wrran.com/blog/2016/06/07/review/bigdata/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="WrRan"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="WrRan の 杂货铺"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">大数据复习</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-07T15:34:56+08:00">2016-06-07 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/review/" itemprop="url" rel="index"><span itemprop="name">review</span> </a></span></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span> </span><span class="post-meta-divider">|</span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span title="字数统计">3,189</span></div></div></header><div class="post-body han-init-context" itemprop="articleBody"><blockquote><p>学习，让我更快乐 ;)</p></blockquote><a id="more"></a><h2 id="大数据"><a href="#大数据" class="headerlink" title="大数据"></a>大数据</h2><h3 id="大数据的定义"><a href="#大数据的定义" class="headerlink" title="大数据的定义"></a>大数据的定义</h3><p>[IMPORTANT]</p><blockquote><p><code>大数据</code>是需要新处理模式才能具有更强的决策力、洞察发现力和流程优化能力的海量、高增长率和多样化的信息资产。<br>BY <strong>Gartner</strong></p></blockquote><blockquote><p><code>Big data</code> is a term for data sets that are so large or complex that traditional data processing applications are inadequate. Challenges include analysis, capture, data curation, search, sharing, storage, transfer, visualization, querying, updating and information privacy. The term often refers simply to the use of predictive analytics or certain other advanced methods to extract value from data, and seldom to a particular size of data set. Accuracy in big data may lead to more confident decision making, and better decisions can result in greater operational efficiency, cost reduction and reduced risk.<br>BY <a href="https://en.wikipedia.org/wiki/Big_data" target="_blank" rel="noopener"><strong>Wiki</strong></a></p></blockquote><p><code>bit</code> =&gt; <code>byte</code> =&gt; <code>KB</code> =&gt; <code>MB</code> =&gt; <code>GB</code> =&gt; <code>TB</code> =&gt; <code>PB</code> =&gt; <code>EB</code> =&gt; <code>ZB</code> =&gt; <code>YB</code></p><p>大数据不仅仅是数据的“大量化”，而是包含“快速化”、“多样化”和“价值化”等多重属性。<br>[IMPORTANT]<br>大数据的特点，<code>4&quot;V&quot;s</code>：</p><ul><li>Volume</li><li>Velocity</li><li>Variety</li><li>Value</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%844V.png" alt="大数据处理的4V" title="大数据处理的4V"><br></center><p><em>注意</em>：上图中的<code>Velocity</code>并不准确，流数据、实时数据、非实时数据应当归为<code>Variety</code>中。<code>Velocity</code>偏重指数据的产生速度快、对数据处理速度的要求高。</p><h3 id="大数据相关技术"><a href="#大数据相关技术" class="headerlink" title="大数据相关技术"></a>大数据相关技术</h3><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%9A%84%E7%94%9F%E6%80%81%E7%B3%BB%E7%BB%9F.png" alt="大数据的生态系统" title="大数据的生态系统"><br></center><p>分析技术</p><ul><li>数据处理：自然语言处理技术</li><li>统计和分析：A/B test；top N排行榜；地域占比；文本情感分析</li><li>数据挖掘：关联规则分析；分类；聚类</li><li>模型预测：预测模型；机器学习；建模仿真</li></ul><p>大数据技术</p><ul><li>数据采集：ETL工具</li><li>数据存取：关系数据库；NoSQL；SQL等</li><li>基础架构支持：云存储；分布式文本系统等</li><li>计算结果展现：云计算；标签云；关系图等</li></ul><p>存储</p><ul><li>问题<br>结构化数据：海量数据的查询、统计、更新等操作效率低<br>非结构化数据：图片、视频、word、pdf、ppt等文件存储；不利于检索、查询和存储<br>半结构化数据：转换为结构化存储或者按照非结构化存储</li><li>解决方案<br>在<strong>CAP理论</strong>指导下数据库技术适当退化：NoSQL技术，如HDFS，HBase， MongoDB等</li></ul><p>计算</p><ul><li>问题<br>因结构变化为导致计算模式变更；需求模式变化带来的计算碰到瓶颈(???)</li><li>解决方案<br><em>MapReduce技术</em>或<em>流计算</em>，如Hadoop，twitter的storm和yohoo!的S4</li></ul><p>[IMPORTANT]<br>补充：</p><blockquote><p>In theoretical computer science, the CAP theorem, also named Brewer’s theorem after computer scientist Eric Brewer, states that it is impossible for a distributed computer system to simultaneously provide all three of the following guarantees:</p><ul><li>Consistency (all nodes see the same data at the same time)</li><li>Availability (every request receives a response about whether it succeeded or failed)</li><li>Partition tolerance (the system continues to operate despite arbitrary partitioning due to network failures)<br>BY <a href="https://en.wikipedia.org/wiki/CAP_theorem" target="_blank" rel="noopener"><strong>Wiki</strong></a></li></ul></blockquote><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/CAP%E7%90%86%E8%AE%BA.png" alt="CAP理论" title="CAP理论"><br></center><h2 id="大数据与云计算"><a href="#大数据与云计算" class="headerlink" title="大数据与云计算"></a>大数据与云计算</h2><p>云计算与大数据的关系：<br>云计算为大数据资源、大数据挖掘提供技术设施（软硬科学技术）；大数据处理技术为云计算建设和运作提供决策</p><h3 id="云计算的定义："><a href="#云计算的定义：" class="headerlink" title="云计算的定义："></a>云计算的定义：</h3><blockquote><p><code>Cloud computing</code>, also known as on-the-line computing, is a kind of Internet-based computing that provides shared processing resources and data to computers and other devices on demand.<br>BY <a href="https://en.wikipedia.org/wiki/Cloud_computing" target="_blank" rel="noopener"><strong>Wiki</strong></a></p></blockquote><p>老师说</p><blockquote><p>[概念性定义] 云计算本身不是计算，也不是单纯的技术，而是基于资源隐藏理念的虚拟化方法</p></blockquote><blockquote><p>[广义的定义] IT基础设施、资源、需求性服务的交付使用模式</p></blockquote><blockquote><p>[狭义的定义] 云计算是一种通过Internet以服务的方式提供动态可伸缩的虚拟化的资源的计算模式</p></blockquote><p><code>云计算</code>是分布式计算、并行计算、效用计算、网络存储、虚拟化、负载均衡等传统计算机和网络计算发展融合的产物。</p><p>综上，大概也许可以这样回答<strong>云计算是什么</strong>了：</p><blockquote><p>云计算是一种通过Internet以服务的方式提供动态可伸缩的虚拟化的资源的计算模式，它是分布式计算、并行计算、效用计算、网络存储、虚拟化、负载均衡等传统计算机和网络计算发展融合的产物。进一步来说，云计算不是计算，也不但只是技术，而是基于资源隐藏理念的虚拟化方法。</p></blockquote><h3 id="云计算的服务模型"><a href="#云计算的服务模型" class="headerlink" title="云计算的服务模型"></a>云计算的服务模型</h3><p>[IMPORTANT]<br>从底层到顶层分别为如下服务：</p><ul><li>IaaS, Infrastructure as a Service：将硬件设备等基础资源封装成服务供用户使用。最通用。应用有Amazon EC2/S3</li><li>PaaS, Platform as a Service：对资源的抽象层次更进一步，提供用户应用程序运行环境。</li><li>SaaS, Software as a Service：针对性更强，它将某些特定应用软件功能封装成服务。最专用。应用有Salesforce online CRM</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B.png" alt="云计算的服务模型" title="云计算的服务模型"><br></center><p><code>IaaS</code>，通过互联网获取计算机基础设施方面的服务，如计算机、存储空间、网络连接等，用户在此基础上部署和运行各种软件，包括操作系统和应用程序。<br><code>PaaS</code>，将软件研发的平台作为一种服务放在网上。平台包括操作系统、编程语言环境、数据库和Web服务器，用户在此平台上部署和运行自己的应用，用户不能管理和控制底层的基础设施，只能控制自己部署的应用。<br><code>SaaS</code>，通过网络提供软件的模式，用户无须购买软件，而是向提供商租用基于Web的软件，来管理企业经营活动。云提供商在云端安装和运行应用软件，云用户通过云客户端使用软件，但不能管理应用软件运行的基础设施和平台，只能做有限的应用程序设置。</p><h3 id="云计算的特征"><a href="#云计算的特征" class="headerlink" title="云计算的特征"></a>云计算的特征</h3><p>云计算的特征可以从如下五个方面概括：</p><ul><li>设施资源 虚拟化、共享化</li><li>资源配置 动态化、扩展化</li><li>需求服务 智能化、自助化</li><li>用户使用 便捷化、高效化</li><li>项目使用 可计化、优质化</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B.png" alt="云计算的特征" title="云计算的特征"><br></center><h3 id="云计算的价值与挑战"><a href="#云计算的价值与挑战" class="headerlink" title="云计算的价值与挑战"></a>云计算的价值与挑战</h3><p>价值有：</p><ol><li>提高生产效率，降低成本、节省能源、可持续化发展的有效手段</li><li>改变IT现状的应用模式</li><li>带动传统产业的升级改造转型，调整产业经济结构</li><li>促进商业、产业、事业模式发展变化</li></ol><p>挑战有：</p><ul><li>技术方面：虚拟技术、安全技术、资源管理、开放式技术</li><li>社会文化：对虚拟设施的理解、对安全信息的重视、对共享资源的保护、规范标准化理念</li></ul><h3 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a>分布式系统</h3><h4 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h4><p>[IMPORTANT]<br>Google云计算平台技术架构：</p><ul><li>文件存储，Google Distributed File System, GFS</li><li>并行数据处理，MapReduce</li><li>分布式锁，Chubby</li><li>非结构化数据库，BigTable</li></ul><p>[IMPORTANT]<br>GFS系统构架</p><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Google%20GFS%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84.png" alt="Google GFS体系架构" title="Google GFS体系架构"><br></center><p>涉及如下三个角色：</p><ul><li>Client(客户端)：应用程序的访问接口</li><li>Master(主服务器)：管理节点，在逻辑上只有一个，保存数据的元数据，负责整个文件系统的管理</li><li>Chunk Server(数据块服务器)：负责具体的存储工作，数据以文件的形式存储在Chunk Server上</li></ul><p>参考资料：</p><ul><li><a href="http://www.open-open.com/lib/view/open1328763454608.html" title="The Google File System中文版" target="_blank" rel="noopener">The Google File System中文版</a></li></ul><h4 id="Hadoop"><a href="#Hadoop" class="headerlink" title="Hadoop"></a>Hadoop</h4><p>[IMPORTANT]<br>Hadoop体系结构：</p><ul><li>数据库：HBase</li><li>并行数据处理：MapReduce</li><li>分布式文件存储：HDFS</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data%2Fimage%2FHDFS%E6%9E%B6%E6%9E%84.png" alt="HDFS架构" title="HDFS架构"><br></center><p><code>Hadoop Distributed File System, HDFS</code>：它是一个高度容错性的系统，适合部署在廉价的机器上。HDFS能提供高吞吐量的数据访问，适合那些有着超大数据集(large data set)的应用程序。<br>HDFS的特点：</p><ol><li>适用大数据文件</li><li>文件分块存储</li><li>流式数据访问</li><li>廉价硬件</li><li>硬件故障</li></ol><p>参考资料：</p><ul><li><a href="http://blessht.iteye.com/blog/2095675" title="Hadoop基础教程" target="_blank" rel="noopener">《Hadoop基础教程》之初始Hadoop</a></li><li><a href="http://os.51cto.com/art/201206/345249.htm" title="了解关于Hadoop的12个事实" target="_blank" rel="noopener">了解关于Hadoop的12个事实</a></li><li><a href="http://os.51cto.com/art/201207/346023.htm" title="告诉你Hadoop是什么" target="_blank" rel="noopener">告诉你Hadoop是什么</a></li><li><a href="http://baike.baidu.com/link?url=2QuNg3SZz8ejG7yZspw-jegIiUf-OabPNNM4262ft9GpTAcJqVCU3eQqzmLafSU67DCb47ziBaLECTZOU0cED_" title="hdfs-百度百科" target="_blank" rel="noopener">HDFS - 百度百科</a></li><li><a href="http://www.weixuehao.com/archives/596" title="Hadoop1.x中HDFS工作原理" target="_blank" rel="noopener">Hadoop1.x中HDFS工作原理</a></li></ul><h4 id="Map-Reduce架构"><a href="#Map-Reduce架构" class="headerlink" title="Map Reduce架构"></a>Map Reduce架构</h4><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Map%20Reduce%E6%9E%B6%E6%9E%84.png" alt="Map Reduce架构" title="Map Reduce架构"><br></center><p>参考资料：</p><ul><li><a href="http://baike.baidu.com/link?url=DMAvH_wLyLN79jZBpTnFCI6auZSJArtxN0LhZ2PoYa5Y_mMObwO1r3IFkKcGdZlC4-JoQQXL-xLhNodwtuI8Da#9" title="百度百科" target="_blank" rel="noopener">MapReduce - 百度百科</a></li><li><a href="http://blog.csdn.net/opennaive/article/details/7514146" title="谷歌技术“三宝”之MapReduce" target="_blank" rel="noopener">谷歌技术“三宝”之MapReduce</a></li><li><a href="http://blog.jobbole.com/1321/" target="_blank" rel="noopener">我是如何向老婆解释MapReduce的？</a></li></ul><p>[IMPORTANT]<br>数据结构化管理组件不同：HBase =&gt; BigTable<br>并行计算模型：MapReduce =&gt; MapReduce<br>分布式文件系统：HDFS =&gt; GFS</p><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/Hadoop%E4%B8%8EGFS%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84%E6%AF%94%E8%BE%83.png" alt="Hadoop与Google的技术架构比较" title="Hadoop与GFS的技术架构比较"><br></center><p>两者不同在于：</p><ul><li>子服务器管理模式：<ul><li>GFS：Chunk Server在Chubby中获取独占锁表示其生存状态，Master通过轮询这些独占锁获知Chunk Server的生存状态；当Master宕机时，替补服务器可以快速获知Chunk Server的状态</li><li>HDFS：DataNode通过心跳的方式告知NameNode其生存状态；当NameNode宕机时，NameNode恢复后需要花费一段时间才能获悉DataNode的状态</li></ul></li><li>HDFS具备空间回收机制：<ul><li>文件删除时，仅删除目录结构，实际数据的删除在等待一段时间后实施</li><li>优点：便于恢复文件</li></ul></li></ul><h4 id="OceanBase分布式关系数据库"><a href="#OceanBase分布式关系数据库" class="headerlink" title="OceanBase分布式关系数据库"></a>OceanBase分布式关系数据库</h4><p>涉及四部分：</p><ul><li>RootServer：管理集群中的所有服务器，Tablet数据分布以及副本管理</li><li>UpdateServer：存储OceanBase系统的增量更新数据</li><li>ChunkServer：存储OceanBase系统的基准数据。基准数据一般存储两份或三份，可配置。</li><li>MergeServer：接收并解析用户的SQL请求，经过词法分析、语法分析、查询优化等一系列操作后转发给相应的ChunkServer或者UpdateServer。如果请求的数据分布在多台ChunkServer上，MergeServer 还需要对多台ChunkServer返回的结果进行合并。</li><li>Listener：一个特殊的MergeServer进程，即Listener，一般与RootServer合设。负责从集群的内部表中查询主备集群的流量分布信息和所有的其他MergeServer的地址列表。</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/OceanBase%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="OceanBean技术架构" title="OceanBean技术架构"><br></center><p>各个部分的功能概括如下，更详细的说明参见本节的参考资料：</p><ul><li>RootServer：集群管理、数据分布以及副本管理。</li><li>MergeServer：协议解析、 SQL 解析、请求转发、结果合并、多表操作等。</li><li>ChunkServer：存储多个 Tablet、提供读取服务和执行定期合并等。</li><li>UpdateServer：集群中唯一能够接受写入的模块。</li></ul><p>参考资料：</p><ul><li><a href="http://code.taobao.org/p/OceanBase/wiki/index/" target="_blank" rel="noopener">OceanBase文档</a> or <a href="http://7xuthx.com1.z0.glb.clouddn.com/review-bigdata/pdf/OceanBase%200.5%20%E6%8F%8F%E8%BF%B0.pdf" target="_blank" rel="noopener">Download OceanBase 0.5 描述 PDF</a></li></ul><h2 id="虚拟化技术"><a href="#虚拟化技术" class="headerlink" title="虚拟化技术"></a>虚拟化技术</h2><p>虚拟化技术的出现</p><ul><li><code>1960</code> IBM退出虚拟化技术，提高了昂贵的大型机的利用率</li><li><code>1999</code> VMware公司解决了X86虚拟化问题，推出了X86平台的虚拟机软件，使虚拟发技术开始走向普通用户</li><li><code>2003</code> 开源虚拟化技术Xen推出，使得虚拟化技术的研究和应用更加普及</li><li><code>2005</code> Intel和AMD推出支持虚拟化技术的处理器和芯片组，实现了硬件辅助虚拟化技术</li><li><code>2006</code> Amazon采用虚拟化技术提供云计算平台，取得了商业上的成功，虚拟化技术成为云计算的基石</li></ul><p>虚拟化技术将物理资源转化为便于切分的资源池，符合云计算的基本条件；虚拟化给资源以动态调整的能力，符合云计算按需分配的要求</p><p>虚拟化将硬件、操作系统和应用软件一同封装在一个可迁移的虚拟机档案文件中</p><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E7%9A%84%E4%BD%9C%E7%94%A8.png" alt="虚拟化技术的作用" title="虚拟化技术的作用"><br></center><p>服务器虚拟化的三种类型：</p><ul><li>OS-Hosted</li><li>Standalone Hypervisor</li><li>Hybird</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-bigdata/image/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%99%9A%E6%8B%9F%E5%8C%96%E7%9A%84%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B.png" alt="服务器虚拟化的三种类型" title="服务器虚拟化的三种类型"><br></center><p>[IMPORTANT]<br>虚拟化技术的四大特性：</p><ul><li>分区：在一个物理服务器上同时运行多个虚拟机</li><li>隔离：在同一服务器上的虚拟机之间相互隔离</li><li>封装：整个虚拟机保存在文件中，而且可以通过移动和复制文件的方式来移动和复制该虚拟机</li><li>相对于硬件独立：无需修改即可在任何服务器上运行虚拟机</li></ul><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E8%99%9A%E6%8B%9F%E6%8A%80%E6%9C%AF%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7.png" alt="虚拟化技术的四大特性" title="虚拟化技术的四大特性"><br></center><p>虚拟化技术的益处：</p><ul><li>实现资源最优利用</li><li>动态负载均衡</li><li>安全隔离</li><li>系统自愈功能提升，应用可靠性提高</li><li>提升系统节能减排能力</li></ul><p>虚拟机技术的关键组件，VMM，又称Hypervisor，负责为虚拟机统一分配CPU、内存和外设，调度虚拟资源：</p><ul><li>VMware</li><li>Xen</li><li>KVM</li></ul><h2 id="重复数据删除技术"><a href="#重复数据删除技术" class="headerlink" title="重复数据删除技术"></a>重复数据删除技术</h2><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE%E5%88%A0%E9%99%A4%E6%8A%80%E6%9C%AF.png" alt="重复数据删除技术" title="重复数据删除技术"><br></center><table><thead><tr><th style="text-align:center">优势</th><th style="text-align:center">劣势</th></tr></thead><tbody><tr><td style="text-align:center">控制数据增长， 提高存储利用率</td><td style="text-align:center">需要额外内存和处理资源</td></tr><tr><td style="text-align:center">提高网络带宽利用率，减少备份时间</td><td style="text-align:center">降低数据的可靠性</td></tr><tr><td style="text-align:center">降低成本和能耗</td><td style="text-align:center">增加了数据恢复的开销</td></tr></tbody></table><h2 id="新型存储技术"><a href="#新型存储技术" class="headerlink" title="新型存储技术"></a>新型存储技术</h2><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.png" alt="存储器的层次结构" title="存储器的层次结构"><br></center><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B.png" alt="存储技术发展历程" title="存储技术发展历程"><br></center><center><br><img src="http://7xuthx.com1.z0.glb.clouddn.com/review-big-data/image/RAID%E6%8A%80%E6%9C%AF%E6%AF%94%E8%BE%83.png" alt="RAID技术比较" title="RAID技术比较"><br></center><h2 id="CPU与GPU的区别："><a href="#CPU与GPU的区别：" class="headerlink" title="CPU与GPU的区别："></a>CPU与GPU的区别：</h2><ul><li>CPU：更多资源用于<strong>缓存</strong>和<strong>逻辑控制</strong></li><li>GPU：更多资源用于<strong>计算</strong>，适用于<em>高并行性</em>、<em>大规模数据密集型</em>、<em>可预测的计算模式</em></li></ul><h2 id="NoSQL-vs-SQL"><a href="#NoSQL-vs-SQL" class="headerlink" title="NoSQL vs SQL"></a>NoSQL vs SQL</h2><table><thead><tr><th style="text-align:center">SQL</th><th style="text-align:center">NoSQL</th></tr></thead><tbody><tr><td style="text-align:center">结构化存储，固定Schema</td><td style="text-align:center">Schema不固定，可以动态改变</td></tr><tr><td style="text-align:center">标准化查询语言</td><td style="text-align:center">没有固定查询语言</td></tr><tr><td style="text-align:center">ACID</td><td style="text-align:center">BASE(Basically Available, Soft State, Eventually Consistency)</td></tr><tr><td style="text-align:center">扩展性弱</td><td style="text-align:center">可以扩展到很大规模</td></tr></tbody></table><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>Books:</p><ul><li><a href="https://book.douban.com/subject/10462720/" title="Understanding Big Data" target="_blank" rel="noopener">Understanding Big Data</a>[TODO]</li></ul><p>Reference:</p><ul><li>ACM Symposium on Clound Computing:<br><a href="https://sites.google.com/site/acm2015socc/" target="_blank" rel="noopener">https://sites.google.com/site/acm2015socc/</a><br><a href="https://sites.google.com/site/2014socc/" target="_blank" rel="noopener">https://sites.google.com/site/2014socc/</a></li><li>IEEE International Conference on Big Data:<br><a href="https://cci.drexel.edu/bigdata/bigdata2015/" target="_blank" rel="noopener">https://cci.drexel.edu/bigdata/bigdata2015/</a><br><a href="https://www.ieeebigdata.org/2014/" target="_blank" rel="noopener">https://www.ieeebigdata.org/2014/</a></li></ul><h2 id="COMMENT"><a href="#COMMENT" class="headerlink" title="COMMENT"></a>COMMENT</h2><p>内容丰富，令人感动。老师，我一定好好学习。</p><blockquote><p>Orz</p></blockquote></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> WrRan</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="http://www.wrran.com/blog/2016/06/07/review/bigdata/" title="大数据复习">http://www.wrran.com/blog/2016/06/07/review/bigdata/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/bigdata/" rel="tag"># bigdata</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/blog/2016/06/06/review/middleware/" rel="next" title="中间件复习"><i class="fa fa-chevron-left"></i> 中间件复习</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/2016/06/09/review/network/" rel="prev" title="计算机网络复习">计算机网络复习 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zMjQ4OC85MDQ5"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="WrRan"><p class="site-author-name" itemprop="name">WrRan</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">223</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">78</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">118</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/WrRan" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub </a></span><span class="links-of-author-item"><a href="http://xtf615.com/" target="_blank" title="xuetf"><i class="fa fa-fw fa-globe"></i> xuetf</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#大数据"><span class="nav-number">1.</span> <span class="nav-text">大数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#大数据的定义"><span class="nav-number">1.1.</span> <span class="nav-text">大数据的定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#大数据相关技术"><span class="nav-number">1.2.</span> <span class="nav-text">大数据相关技术</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#大数据与云计算"><span class="nav-number">2.</span> <span class="nav-text">大数据与云计算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#云计算的定义："><span class="nav-number">2.1.</span> <span class="nav-text">云计算的定义：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#云计算的服务模型"><span class="nav-number">2.2.</span> <span class="nav-text">云计算的服务模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#云计算的特征"><span class="nav-number">2.3.</span> <span class="nav-text">云计算的特征</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#云计算的价值与挑战"><span class="nav-number">2.4.</span> <span class="nav-text">云计算的价值与挑战</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#分布式系统"><span class="nav-number">2.5.</span> <span class="nav-text">分布式系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Google"><span class="nav-number">2.5.1.</span> <span class="nav-text">Google</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Hadoop"><span class="nav-number">2.5.2.</span> <span class="nav-text">Hadoop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map-Reduce架构"><span class="nav-number">2.5.3.</span> <span class="nav-text">Map Reduce架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OceanBase分布式关系数据库"><span class="nav-number">2.5.4.</span> <span class="nav-text">OceanBase分布式关系数据库</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚拟化技术"><span class="nav-number">3.</span> <span class="nav-text">虚拟化技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#重复数据删除技术"><span class="nav-number">4.</span> <span class="nav-text">重复数据删除技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#新型存储技术"><span class="nav-number">5.</span> <span class="nav-text">新型存储技术</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CPU与GPU的区别："><span class="nav-number">6.</span> <span class="nav-text">CPU与GPU的区别：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NoSQL-vs-SQL"><span class="nav-number">7.</span> <span class="nav-text">NoSQL vs SQL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">8.</span> <span class="nav-text">参考资料</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#COMMENT"><span class="nav-number">9.</span> <span class="nav-text">COMMENT</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 - <span itemprop="copyrightYear">2019</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">WrRan</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="powered-by">Hosted by <a href="https://pages.coding.me" style="font-weight:700">Coding Pages</a></div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div><div class="busuanzi-count"><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> </span><span class="site-pv"><i class="fa fa-eye"></i> <span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script type="text/javascript">// Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>